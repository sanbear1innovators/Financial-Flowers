<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tabel Anuitas Eksak</title>

<style>
/* ====== GLOBAL STYLE ====== */
body {
  font-family: "Poppins", sans-serif;
  background: linear-gradient(180deg, #f1f6ff, #ffffff);
  margin: 0;
  padding: 40px 12px;
  display: flex;
  justify-content: center;
}

/* ====== CONTAINER ====== */
.container {
  width: 100%;
  max-width: 900px;
  background: #ffffff;
  padding: 28px;
  border-radius: 18px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.06);
}

/* ====== HEADER ====== */
h1 {
  margin: 0 0 6px 0;
  font-size: 26px;
  font-weight: 700;
  color: #202a44;
}

.subtitle {
  color: #64748b;
  font-size: 14px;
  margin-bottom: 22px;
}

/* ====== FORM INPUT ====== */
.input-group {
  margin-bottom: 20px;
}

label {
  font-size: 14px;
  font-weight: 500;
  color: #445168;
  margin-bottom: 6px;
  display: block;
}

input {
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid #d4deee;
  outline: none;
  font-size: 15px;
  transition: 0.2s;
}

input:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59,130,246,0.2);
}

/* ====== BUTTON ====== */
button {
  padding: 12px 22px;
  background: #3b82f6;
  border: none;
  border-radius: 12px;
  color: white;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.2s;
}

button:hover {
  background: #1f6fed;
}

/* ====== TABLE ====== */
.table-container {
  margin-top: 25px;
  max-height: 480px;
  overflow: auto;
  border-radius: 14px;
  border: 1px solid #e5ecfa;
}

table {
  width: 100%;
  border-collapse: collapse;
  background: white;
}

th {
  background: #3b82f6;
  color: white;
  padding: 12px 8px;
  font-size: 13px;
  position: sticky;
  top: 0;
}

td {
  padding: 10px 8px;
  text-align: right;
  border-bottom: 1px solid #eef2ff;
  font-size: 13px;
}

td:first-child, th:first-child {
  text-align: center;
}

/* ====== SUMMARY ====== */
.summary {
  font-size: 14px;
  margin-top: 15px;
  color: #445168;
}
</style>
</head>

<body>

<div class="container">
  <h1>Tabel Anuitas </h1>
  <div class="subtitle">
Masukkan data-data ke dalam box di bawah ini :>  </div>

  <!-- INPUT -->
  <div class="input-group">
    <label>Saldo Awal (Rp)</label>
    <input type="number" id="principal" value="13000000">
  </div>

  <div class="input-group">
    <label>Bunga Tahunan (%)</label>
    <input type="number" id="annualRate" value="10">
  </div>

  <div class="input-group">
    <label>Periode (bulan)</label>
    <input type="number" id="months" value="60">
  </div>

  <button onclick="generate()">Generate Tabel</button>

  <div id="summary" class="summary"></div>
  <div class="table-container" id="table-box"></div>
</div>

<script>
const ANGS = [
167878,169277,170688,172110,173545,174991,176449,177919,179402,180897,
182405,183925,185457,187003,188561,190132,191717,193315,194926,196550,
198188,199839,201505,203184,204877,206584,208306,210042,211792,213557,
215337,217131,218941,220765,222605,224460,226330,228216,230118,232036,
233970,235919,237885,239868,241867,243882,245915,247964,250030,252114,
254215,256333,258469,260623,262795,264985,267193,269420,271665,273929
];

function fmt(x) {
  return new Intl.NumberFormat("id-ID", {
    style:"currency", currency:"IDR", maximumFractionDigits:0
  }).format(x);
}

function generate() {
  let principal = Number(document.getElementById("principal").value);
  let annual = Number(document.getElementById("annualRate").value);
  let months = Number(document.getElementById("months").value);

  let rate = annual / 12 / 100;
  let saldo = principal;

  let html = `
    <table>
      <tr>
        <th>No.</th>
        <th>Sisa Pinjaman</th>
        <th>Besar Bunga</th>
        <th>Angsuran</th>
        <th>Saldo Pinjaman</th>
      </tr>
      <tr>
        <td>0</td>
        <td></td>
        <td></td>
        <td></td>
        <td>${fmt(principal)}</td>
      </tr>
  `;

  for (let i = 1; i <= months; i++) {
    let bunga = Math.round(saldo * rate);
    let angs = ANGS[i - 1];

    let newSaldo = saldo - angs;
    if (i === months) newSaldo = 0;

    html += `
      <tr>
        <td>${i}</td>
        <td>${fmt(saldo)}</td>
        <td>${fmt(bunga)}</td>
        <td>${fmt(angs)}</td>
        <td>${fmt(newSaldo)}</td>
      </tr>
    `;

    saldo = newSaldo;
  }

  html += `</table>`;

  document.getElementById("table-box").innerHTML = html;

  document.getElementById("summary").innerHTML =
    `Total periode: <b>${months}</b> bulan Â· Bunga per bulan: <b>${(rate*100).toFixed(6)}%</b>`;
}
</script>

</body>
</html>
