<!-- üåø DUOLINGO-STYLE MINI GAME ‚Äî BUNGA & ANUITAS -->
<section class="game-wrapper">
  <div class="game-card" id="gameStart">
    <h1 class="title">üí∏ Bunga & Anuitas Adventure</h1>
    <p class="subtitle">Belajar keuangan seru kayak Duolingo! üå±</p>
    <button class="start-btn" onclick="startGame()">Mulai Main ‚ñ∂</button>
  </div>

  <div class="game-card hidden" id="gamePlay">
    <h2 id="questionText">...</h2>

    <div class="options">
      <button class="option" onclick="choose(0)" id="opt0"></button>
      <button class="option" onclick="choose(1)" id="opt1"></button>
      <button class="option" onclick="choose(2)" id="opt2"></button>
      <button class="option" onclick="choose(3)" id="opt3"></button>
    </div>

    <div class="result hidden" id="resultBox"></div>
    <button class="next-btn hidden" onclick="nextQuestion()" id="nextBtn">Soal Berikutnya ‚ûú</button>
  </div>

  <div class="game-card hidden" id="gameEnd">
    <h1 class="title">üéâ Selesai!</h1>
    <p id="scoreText"></p>
    <button class="start-btn" onclick="restartGame()">Main Lagi üîÅ</button>
  </div>
</section>

<style>
  body { font-family: Poppins, sans-serif; }
  .game-wrapper {
    min-height: 100vh;
    background: linear-gradient(#E6F4EA, #BFD8B8);
    padding: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .game-card {
    background: white;
    width: 90%; max-width: 600px;
    padding: 30px;
    border-radius: 24px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    text-align: center;
    animation: fade 0.4s ease;
  }
  .hidden { display: none; }
  .title { font-size: 2rem; font-weight: 700; color:#2F5233; }
  .subtitle { color: #496E4A; margin-bottom: 20px; }
  .start-btn, .next-btn {
    padding: 12px 22px;
    background: #4C8C4A;
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 1.1rem;
    cursor: pointer;
  }
  .options { margin-top: 20px; display: grid; gap: 12px; }
  .option {
    padding: 14px;
    background: #F3F7F1;
    border: 2px solid #B5C9B1;
    cursor: pointer;
    border-radius: 12px;
    font-size: 1rem;
  }
  .option:hover { background: #E3EFE1; }
  .correct { background:#C5F7BF !important; border-color:#5FB45F !important; }
  .wrong { background:#FFB6B6 !important; border-color:#FF6868 !important; }
  .result { margin-top:20px; font-weight:600; }
  @keyframes fade { from{opacity:0;} to{opacity:1;} }
</style>

<script>
let index = 0;
let score = 0;

const questions = [
  {
    q: "Ani menabung Rp300.000 dengan bunga tunggal 16%/tahun. Berapa bunganya?",
    opts: ["Rp30.000", "Rp48.000", "Rp60.000", "Rp75.000"],
    answer: 1,
    explain: "B = Mo √ó b √ó n = 300.000 √ó 16% √ó 1 = 48.000"
  },
  {
    q: "Tabungan Rp10.000.000 bunga majemuk 5%/tahun selama 10 tahun. Berapa Mn?",
    opts: ["Rp11.000.000", "Rp14.450.000", "Rp16.288.946", "Rp19.200.000"],
    answer: 2,
    explain: "Mn = Mo(1+i)^n = 10.000.000 √ó 1.05^{10} = 16.288.946"
  },
  {
    q: "Pinjaman 30 juta, bunga 1%/bulan, 36 bulan. Berapa cicilan anuitas?",
    opts: ["Rp500.000", "Rp750.200", "Rp996.300", "Rp1.250.000"],
    answer: 2,
    explain: "A = Pi / (1 - (1+i)^-n) = 996.300"
  }
];

function startGame() {
  document.getElementById("gameStart").classList.add("hidden");
  document.getElementById("gamePlay").classList.remove("hidden");
  loadQuestion();
}

function loadQuestion() {
  const q = questions[index];
  document.getElementById("questionText").textContent = q.q;
  q.opts.forEach((o, i) => {
    document.getElementById("opt"+i).textContent = o;
    document.getElementById("opt"+i).className = "option";
  });
  document.getElementById("resultBox").classList.add("hidden");
  document.getElementById("nextBtn").classList.add("hidden");
}

function choose(i) {
  const q = questions[index];
  const correct = q.answer;

  document.getElementById("opt"+i).classList.add(i===correct ? "correct" : "wrong");
  document.getElementById("opt"+correct).classList.add("correct");

  if(i===correct) score++;

  document.getElementById("resultBox").classList.remove("hidden");
  document.getElementById("resultBox").textContent = "Penjelasan: " + q.explain;

  document.getElementById("nextBtn").classList.remove("hidden");
}

function nextQuestion() {
  index++;
  if(index >= questions.length) {
    endGame();
  } else loadQuestion();
}

function endGame() {
  document.getElementById("gamePlay").classList.add("hidden");
  document.getElementById("gameEnd").classList.remove("hidden");
  document.getElementById("scoreText").textContent = `Skor kamu: ${score} dari ${questions.length}`;
}

function restartGame() {
  index=0; score=0;
  document.getElementById("gameEnd").classList.add("hidden");
  document.getElementById("gameStart").classList.remove("hidden");
}
</script>